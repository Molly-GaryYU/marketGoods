<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>

    <meta charset="UTF-8">
    <title>Title</title>
</head>
<style>
    .background{
        background: url('http://localhost:8080/img/index/2054394.jpg') no-repeat;
        width: 100%;
        height: 820px;
        background-size:cover;
    }
</style>
<!--@表示thymeleaf加上项目的名字-->
<link rel="stylesheet" th:href="@{ /layui/css/layui.css}">
<!--引入layui的js文件-->
<script type="text/javascript" th:src="@{/layui/layui.js}"></script>
<body>
<div class="background" style="position: absolute;left: 0 ;right: 0;top: 0; bottom: 0" >
    <div style="display: flex ;justify-content: center;height: 100%;align-items: center">
        <!--action="/pages/front/login"这样配置虽然是可以跳转到控制层，但是如果以后用到反向代理的时候我们就需要修改一下代码了-->
        <!--th:action="@{/pages/front/login}"-->
        <!-- 加入method="post"的作用是为了加密否者url会泄露密码和账号-->
        <form id="formForLogin" class="layui-form"  method="post" action="/pages/front/login"
              style="border: solid  1px; padding: 20px;border-radius: 10px;box-shadow: 0 0 10px ">
            <div class="layui-form-item">
                <div>
                    <label class="layui-form-label">验证手机</label>
                    <div class="layui-input-inline">
                        <input style="background: none" type="tel" name="phone" id="phone"  autocomplete="off" class="layui-input">
                    </div>
                </div>

            </div>
            <div>

                <div>
                    <label class="layui-form-label">登录密码</label>
                    <div class="layui-input-inline">
                        <input style="background: none" type="password" name="password" id="password" autocomplete="off" class="layui-input">
                    </div>
                </div>
            </div>

            <div class="layui-form-item">
                <div style="text-align: center">
                    <div th:text="${errorMsg}" style="color: orangered"></div>
                </div>
            </div>

            <div class="layui-form-item">
                <div class="layui-input-block">
                    <button type="submit" class="layui-btn" lay-submit="" lay-filter="demo1">立即提交</button>
                    <button type="reset" class="layui-btn layui-btn-primary">重置</button>
                </div>
            </div>
        </form>
    </div>
</div>





</body>
<script src="https://s3.pstatp.com/cdn/expire-1-M/jquery/3.3.1/jquery.min.js" crossorigin="anonymous"></script>
<script  type="text/javascript" >
    /*
        function geturldata(name){
            //构造一个含有目标参数的正则表达式对象
            var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
            //匹配目标参数
            var r = window.location.search.substr(1).match(reg);
            //返回参数值
            if (r!=null) return unescape(r[2]);
            return null;
        }

        var shopcar = geturldata('shopCar');
        function login(){
            var phone=$('#phone')
            var password=$('#password')
            var user={
                phone,
                password
            }
          var  userId=shopcar.userId
          var   goodsId=parseInt(shopcar.goodsId) /!*parseInt()*!/
            var  count= parseInt( shopcar.count)
          var  shopCar2={
              userId,
              goodsId,
              count
            }
            alert(shopCar2)
            alert(user)
            console.log(user)
            $.post("/pages/front/login",  shopCar2,user);
        }*/
</script>
<script type="text/javascript" th:inline="javascript">
    /*
        var a=[[${shopCar}]]
        var b=document.getElementById('shopCar')
        var c=geturldata('shopCar')
        console.log(a);
        console.log(b.value);
        console.log(c);

    */

    /* var submit=document.getElementById('submit')*/

    /*   submit.click(function () {
           var phone=$('#phone')
           var password=$('#password')
           var user={
               phone,
               password
           }
           var ShopCar=geturldata(shopcar);
           console.log(ShopCar)
           console.log(user)
           $.post("/pages/front/login",ShopCar,user)
       });*/
</script>
</html>